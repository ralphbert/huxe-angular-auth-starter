<form (ngSubmit)="onSubmit()">
  <div *ngIf="error" class="alert alert-error mb-2">
    {{ error.message }}
  </div>

  <div class="form-group">
    <label>Username</label>
    <input #usernameField="ngModel" [disabled]="loading" name="username" class="form-control" [(ngModel)]="username" required>
    <pre>{{ usernameField.errors | json }}</pre>
  </div>
  <div class="form-group">
    <label>Password</label>
    <input #passwordField="ngModel" [disabled]="loading" name="password" class="form-control" [(ngModel)]="password" required minlength="5">
    <pre>{{ passwordField.errors | json }}</pre>
  </div>

  <button class="btn btn-outline-primary" [disabled]="usernameField.invalid || passwordField.invalid || loading">
    <span *ngIf="!loading">Login</span>
    <span *ngIf="loading">Loading...</span>
  </button>
</form>
